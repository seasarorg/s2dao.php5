<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- don't edit start -->
<head>
<title>Seasar - DI Container with AOP - </title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link href="seasar_b.css" type="text/css" rel="stylesheet" media="screen" />
<link href="seasar_p.css" type="text/css" rel="stylesheet" media="print" />
<script src="seasar_b.js" type="text/JavaScript" language="JavaScript"></script>
</head>
<body onload="preload('ja')">
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="left"><tr>
<td align="left" valign="top" width="780"><table width="780" border="0" cellspacing="0" cellpadding="0" class="white">
<tr><td colspan="7"><img height="5" width="780" src="images/top01_b.gif" alt=""></td></tr>
<tr><td><img height="117" width="235" src="images/top02_b.gif" alt="Seasar"></td>
<td colspan="3"><img height="117" width="289" src="images/top03.gif" alt="DI Container with AOP"></td>
<td colspan="3"><img height="117" width="256" src="images/spacer.gif" alt=""></td>
</tr><tr><td rowspan="2"><img src="images/top04.gif" alt="" height="49" width="235"></td>
<td><a href="http://www.seasar.org/index.html"><img src="images/menu01_b_ja.gif" height="30" width="78" border="0" alt="" id="menu01" onmouseover="swap(1)" onmouseout="restore(1)"></a></td>
<td><a href="http://www.seasar.org/projects.html"><img src="images/menu02_b_ja.gif" height="30" width="101" border="0" alt="" id="menu02" onmouseover="swap(2)" onmouseout="restore(2)"></a></td>
<td><a href="http://www.seasar.org/products.html"><img src="images/menu03_b_ja.gif" height="30" width="110" border="0" alt="" id="menu03" onmouseover="swap(3)" onmouseout="restore(3)"></a></td>
<td><a href="http://www.seasar.org/resources.html"><img src="images/menu04_b_ja.gif" height="30" width="113" border="0" alt="" id="menu04" onmouseover="swap(4)" onmouseout="restore(4)"></a></td>
<td><img src="images/menu05_b_ja.gif" height="30" width="109" border="0" alt="" id="menu05" onmouseover="swap(5)" onmouseout="restore(5)"></td>
<td><img height="30" width="34" src="images/menu06.gif" alt=""></td></tr><tr>
<td colspan="6"><img height="19" width="545" src="images/spacer.gif" alt=""></td></tr></table>
<table  width="780" border="0" cellspacing="0" cellpadding="0" class="white">
<tr align="left" valign="top"><td width="14"><img height="14" width="14" src="images/spacer.gif" alt=""></td><td width="740" class="main">
<!-- don't edit end -->
<!-- document start -->

<h2>S2Dao.PHP5アノテーション</h2>

<p>S2Dao.PHP5では、S2Daoのアノテーション方法において、定数アノテーションとコメントアノテーションのどちらかを記述できます。<br />
定数アノテーションとコメントアノテーションの対応を下記に記載しています。</p>
<p>個々のアノテーションについての詳細は、<a href="reference.html">S2Daoリファレンス</a>を参照してください。</p>

<ul>
    <li><a href="#AnnotationList">アノテーション一覧表</a>
        <ul>
            <li><a href="#BeansAnnotationList">Beansアノテーション一覧</a></li>
            <li><a href="#DaoAnnotationList">Daoアノテーション一覧</a></li>
            <li><a href="#MethodAnnotationList">Methodアノテーション一覧</a></li>
        </ul>
    <li><a href="#Beans">Beansアノテーション</a>
        <ul>
            <li><a href="#IdAnnotation">IDアノテーション</a></li>
            <li><a href="#RelationAnnotation">RELNO, RELKEYSアノテーション</a></li>
            <li><a href="#TableAnnotation">TABLEアノテーション</a></li>
            <li><a href="#ColumnAnnotation">COLUMNアノテーション</a></li>
            <li><a href="#VersionNoPropertyAnnotation">VERSION_NO_PROPERTYアノテーション</a></li>
            <li><a href="#TimestampPropertyAnnotation">TIMESTAMP_PROPERTYアノテーション</a></li>
            <li><a href="#TimestampPropertyAnnotation">NO_PERSISTENT_PROPSアノテーション</a></li>
        </ul>
    </li>
    <li><a href="#Dao">Daoアノテーション</a>
        <ul>
            <li><a href="#BeanAnnotation">BEANアノテーション</a></li>
            <li><a href="#ArgsAnnotation">ARGSアノテーション</a></li>
            <li><a href="#QueryAnnotation">QUERYアノテーション</a></li>
            <li><a href="#NoPersistentPropsAnnotation">NO_PERSISTENT_PROPSアノテーション</a></li>
            <li><a href="#PersistentPropsAnnotation">PERSISTENT_PROPSアノテーション</a></li>
            <li><a href="#SqlAnnotation">SQLアノテーション</a></li>
            <li><a href="#ProcedureAnnotation">PROCEDUREアノテーション</a></li>
        </ul>
    </li>
    <li><a href="#Method">Methodアノテーション</a>
        <ul>
            <li><a href="#ListAnnotation">Listアノテーション</a></li>
            <li><a href="#ArrayAnnotation">Arrayアノテーション</a></li>
            <li><a href="#YamlAnnotation">Yamlアノテーション</a></li>
            <li><a href="#JsonAnnotation">Jsonアノテーション</a></li>
            <li><a href="#ObjectAnnotation">Objectアノテーション</a></li>
            <li><a href="#MapAnnotation">Mapアノテーション</a></li>
        </ul>
    </li>
</ul>

<h2><a name="AnnotationList">アノテーション一覧</a></h2>

<h3><a name="BeansAnnotationList">Beansアノテーション一覧</a></h3>
<p>
<table border="1">
    <thead>
        <tr>
            <th>定数アノテーション</th>
            <th>コメントアノテーション</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>ID</td>
            <td>@Id</td>
        <tr>
        <tr>
            <td>RELNO</td>
            <td>@Relation(relationNo = x)</td>
        <tr>
        <tr>
            <td>RELKEYS</td>
            <td>@Relation(relationNo = x, relationKey = "key")</td>
        <tr>
        <tr>
            <td>TABLE</td>
            <td>@Bean(table = "TABLE")</td>
        <tr>
        <tr>
            <td>COLUMN</td>
            <td>@Column</td>
        <tr>
        <tr>
            <td>VERSION_NO_PROPERTY</td>
            <td>@VersionNoProperty
                 (@Beansアノテーションが必須です。)
            </td>
        <tr>
        <tr>
            <td>TIMESTAMP_PROPERTY</td>
            <td>@TimestampProperty
            (@Beansアノテーションが必須です。)
            </td>

        <tr>
        <tr>
            <td>NO_PERSISTENT_PROPS</td>
            <td>@NoPersistentProperty
            (@Beansアノテーションが必須です。)</td>
        <tr>
    </tbody>
</table>
</p>

<h3><a name="DaoAnnotationList">Daoアノテーション一覧</a></h3>
<p>
<table border="1">
    <thead>
        <tr>
            <th>定数アノテーション</th>
            <th>コメントアノテーション</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>BEAN</td>
            <td>@Dao</td>
        <tr>
        <tr>
            <td>ARGS</td>
            <td>@Arguments</td>
        <tr>
        <tr>
            <td>QUERY</td>
            <td>@Query</td>
        <tr>
        <tr>
            <td>NO_PERSISTENT_PROPS</td>
            <td>@NoPersistentProperty</td>
        <tr>
        <tr>
            <td>PERSISTENT_PROPS</td>
            <td>@PersistentProperty</td>
        <tr>
        <tr>
            <td>SQL</td>
            <td>@Sql</td>
        <tr>
        <tr>
            <td>PROCEDURE</td>
            <td>@Procedure</td>
        <tr>
    </tbody>
</table>
</p>

<h3><a name="MethodAnnotationList">Methodアノテーション一覧</a></h3>
<p>
<table border="1">
    <thead>
        <tr>
            <th>定数アノテーション</th>
            <th>コメントアノテーション</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>List</td>
            <td>@return list</td>
        <tr>
        <tr>
            <td>Array</td>
            <td>@return array</td>
        <tr>
        <tr>
            <td>Yaml</td>
            <td>@return yaml</td>
        <tr>
        <tr>
            <td>Json</td>
            <td>@return json</td>
        <tr>
        <tr>
            <td>Obj</td>
            <td>@return object</td>
        <tr>

        <tr>
            <td>Map</td>
            <td>@return map</td>
        <tr>
    </tbody>
</table>
</p>

<h3><a name="Beans">Beans</a></h3>
<h4><a name="IdAnnotation">IDアノテーション</a></h4>
<p>
IDアノテーションは、@Idアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const id_ID = "sequence, sequenceName=myseq";
</pre>
<pre>
// コメントアノテーション
/**
 * @Id(value = sequence, sequenceName = "myseq")
 */
private $id;
</pre>

<h4><a name="RelationAnnotation">RELNO, RELKEYSアノテーション</a></h4>
<p>
RELNO, RELKEYSアノテーションは、@Relationアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const department_RELNO = 0;
const department_RELKEYS = "DEPTNUM:DEPTNO";
</pre>
<pre>
// コメントアノテーション
/**
 * @Relation(relationNo = 0, relationKey = "DEPTNUM:DEPTNO")
 */
private $department;
</pre>

<h4><a name="TableAnnotation">TABLEアノテーション</a></h4>
<p>
TABLEアノテーションは、@Beanアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const TABLE = "DEPT";
</pre>
<pre>
// コメントアノテーション
/**
 * @Bean(table=DEPT)
 */
class Department implements Serializable {
    // ...
}
</pre>

<h4><a name="ColumnAnnotation">COLUMNアノテーション</a></h4>
<p>
COLUMNアノテーションは、@Columnアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const timestamp_COLUMN = "tstamp";
</pre>
<pre>
// コメントアノテーション
/**
 * @Column("tstamp")
 */
private $timestamp;
</pre>

<h4><a name="VersionNoPropertyAnnotation">VERSION_NO_PROPERTYアノテーション</a></h4>
<p>
VERSION_NO_PROPERTYアノテーションは、@VersionNoPropertyアノテーションに記述します。<br />
コメントアノテーションを行う場合は@Beanアノテーションが必須となります。
</p>
<pre>
// 定数アノテーション
const VERSION_NO_PROPERTY = "myVersionNo";
</pre>
<pre>
// コメントアノテーション
/**
 * @Bean(table=DEPT)
 * @VersionNoProperty = "myVersionNo")
 */
class Foo {
    // ...
}
</pre>

<h4><a name="TimestampPropertyAnnotation">TIMESTAMP_PROPERTYアノテーション</a></h4>
<p>
TIMESTAMP_PROPERTYアノテーションは、@TimestampPropertyアノテーションに記述します。<br />
コメントアノテーションを行う場合は@Beanアノテーションが必須となります。
</p>
<pre>
// 定数アノテーション
const TIMESTAMP_PROPERTY = "myTimestamp";
</pre>
<pre>
// コメントアノテーション
/**
 * @Bean(table=DEPT)
 * @TimeStampProperty = "myTimestamp")
 */
class Foo {
    // ...
}
</pre>

<h4><a name="NoPersistentPropertyAnnotation">NO_PERSISTENT_PROPSアノテーション</a></h4>
<p>
NO_PERSISTENT_PROPSアノテーションは、@NoPersistentPropertyアノテーションに記述します。<br />
コメントアノテーションを行う場合は@Beanアノテーションが必須となります。
</p>
<pre>
// 定数アノテーション
const NO_PERSISTENT_PROPS = "fooProperty";
</pre>
<pre>
// コメントアノテーション
/**
 * @Bean(table=DEPT)
 * @NoPersistentProperty(fooProperty)
 */
class Foo {
    // ...
}
</pre>

<h3><a name="Dao">Dao(Data Access Object)</a></h3>
<h4><a name="BeanAnnotation">BEANアノテーション</a></h4>
<p>
BEANアノテーションは、@Daoアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const BEAN = "Employee";
</pre>
<pre>
// コメントアノテーション
/**
 * @Dao(bean=Employee)
 */
interface DepartmentDao {
    // ...
}
</pre>

<h4><a name="BeanAnnotation">ARGSアノテーション</a></h4>
<p>
ARGSアノテーションは、@Argumentsアノテーションに記述します。<br />
また、ARGSアノテーションは省略可能です。(省略した場合自動的に設定されます。)
</p>
<pre>
// 定数アノテーション
const getEmployees_ARGS = "ename";
</pre>
<pre>
// コメントアノテーション
/**
 * @Arguments("ename")
 */
public function getEmployees($ename) {
    // ...
}
</pre>

<h4><a name="QueryAnnotation">QUERYアノテーション</a></h4>
<p>
QUERYアノテーションは、@Queryアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const getAaa_QUERY = "A > B";
</pre>
<pre>
// コメントアノテーション
/**
 * @Query("A > B")
 */
public function getAaa($id);
</pre>

<h4><a name="NoPersistentPropsAnnotation">NO_PERSISTENT_PROPSアノテーション</a></h4>
<p>
NO_PERSISTENT_PROPSアノテーションは、@NoPersistentPropertyアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const insert_NO_PERSISTENT_PROPS = "sal, comm";
</pre>
<pre>
// コメントアノテーション
/**
 * @NoPersistentProperty("sal, comm")
 */
public function insert(Employee $employee);
</pre>

<h4><a name="PersistentPropsAnnotation">PERSISTENT_PROPSアノテーション</a></h4>
<p>
PERSISTENT_PROPSアノテーションは、@PersistentPropertyアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const insert_PERSISTENT_PROPS = "deptno";
</pre>
<pre>
// コメントアノテーション
/**
 * @PersistentProperty("deptno")
 */
public function insert(Employee $employee);
</pre>

<h4><a name="SqlAnnotation">SQLアノテーション</a></h4>
<p>
SQLアノテーションは、@Sqlアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const getCount_SQL = "SELECT COUNT(*) FROM emp";
</pre>
<pre>
// コメントアノテーション
/**
 * @Sql("SELECT count(*) FROM emp")
 */
public function getCount();
</pre>

<h4><a name="ProcedureAnnotation">PROCEDUREアノテーション</a></h4>
<p>
PROCEDUREアノテーションは、@Procedureアノテーションに記述します。
</p>
<pre>
// 定数アノテーション
const getSalesTax_PROCEDURE = "SALES_TAX";
</pre>
<pre>
// コメントアノテーション
/**
 * @Procedure("SALES_TAX")
 */
public function getSalesTax($subtotal);
</pre>


<h3><a name="Method">Method</a></h3>
<p>Methodアノテーションはメソッドの戻り値をアノテーションによって指定することができます。<br />
Methodアノテーションでの定数アノテーションはメソッド名そのものを示し、コメントアノテーションはメソッドコメントを示します。
</p>
<h4><a name="ListAnnotation">Listアノテーション</a></h4>
<p>
Listアノテーションはメソッド名の最後をList、もしくは@return listで記述します。
</p>
<pre>
// 定数アノテーション
public function getFooList($foo);
</pre>
<pre>
// コメントアノテーション
/**
 * @return list
 */
public function getFoo($foo);
</pre>

<h4><a name="ArrayAnnotation">Arrayアノテーション</a></h4>
<p>
Arrayアノテーションはメソッド名の最後をArray、もしくは@return arrayで記述します。
</p>
<pre>
// 定数アノテーション
public function getFooArray($foo);
</pre>
<pre>
// コメントアノテーション
/**
 * @return array
 */
public function getFoo($foo);
</pre>

<h4><a name="YamlAnnotation">Yamlアノテーション</a></h4>
<p>
Yamlアノテーションはメソッド名の最後をYaml、もしくは@return yamlで記述します。
</p>
<pre>
// 定数アノテーション
public function getFooYaml($foo);
</pre>
<pre>
// コメントアノテーション
/**
 * @return yaml
 */
public function getFoo($foo);
</pre>

<h4><a name="JsonAnnotation">Jsonアノテーション</a></h4>
<p>
Jsonアノテーションはメソッド名の最後をJson、もしくは@return jsonで記述します。
</p>
<pre>
// 定数アノテーション
public function getFooJson($foo);
</pre>
<pre>
// コメントアノテーション
/**
 * @return json
 */
public function getFoo($foo);
</pre>

<h4><a name="ObjectAnnotation">Objectアノテーション</a></h4>
<p>
Objectアノテーションはメソッド名の最後をObj、もしくは@return objectで記述します。
</p>
<pre>
// 定数アノテーション
public function getFooObj($foo);
</pre>
<pre>
// コメントアノテーション
/**
 * @return object
 */
public function getFoo($foo);
</pre>

<h4><a name="MapAnnotation">Mapアノテーション</a></h4>
<p>
Mapアノテーションはメソッド名の最後をMap、もしくは@return mapで記述します。
</p>
<pre>
// 定数アノテーション
public function getFooMap($foo);
</pre>
<pre>
// コメントアノテーション
/**
 * @return map
 */
public function getFoo($foo);
</pre>

<!-- document end -->
<!-- don't edit start -->
</td>
<td width="14"><img height="14" width="14" src="images/spacer.gif" alt=""></td>
</tr><tr>

<td width="14"><img height="30" width="14" src="images/spacer.gif" alt=""></td>
<td width="766"><img height="30" width="592" src="images/spacer.gif" alt=""></td>
</tr><tr>
<td width="14"><img height="14" width="14" src="images/spacer.gif" alt=""></td>
<td width="766" class="copyright">Copyright&copy; 2004-2005, The Seasar Foundation and the others. All rights reserved.</td>
</tr></table>
<td class="backright" align="left" valign="top">&nbsp;</td></tr><tr>
<td class="backunder" align="left"  valign="top" width="780" height="16">&nbsp;</td>
<td class="backcorner" align="left" valign="top" height="16">&nbsp;</td>
</tr>
</table>
</body>
<!-- document end -->
</html>
