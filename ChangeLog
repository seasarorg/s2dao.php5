2006-05-27 nowel(S2Dao.PHP5-1.1.0-RC4)

    * remove: Batch処理のパッケージを削除しました。
        - S2Dao_AbstractBatchAutoHandler.class.php
        - S2Dao_AbstractBatchAutoStaticCommand.class.php
        - S2Dao_DeleteBatchAutoHandler.class.php
        - S2Dao_DeleteBatchAutoStaticCommand.class.php
        - S2Dao_InsertBatchAutoHandler.class.php
        - S2Dao_InsertBatchAutoStaticCommand.class.php
        - S2Dao_UpdateBatchAutoHandler.class.php
        - S2Dao_UpdateBatchAutoStaticCommand.class.php
    * remove: S2Dao_DataSourceUtilを削除しました。

2006-05-25 yonekawa,nowel(S2Dao.PHP5-1.1.0-RC4)

    * fix: S2Dao_ArrayList::addAllメソッドでArrayObjectが正しく追加されないバグを修正しました。
    * add: S2Pager S2Dao_LimitOffsetInterceptorを追加しました。
    - MySQL,PostgresSQLであれば、データの取得にLimit,Offset句を使うことができます。
    - 使用する場合はdao-pager.diconの設定を書き換えます。
      
      ex)
      <!-- S2Dao_PagerS2DaoInterceptorWrapperをコメントアウト
      <component name="interceptor" class="S2Dao_PagerS2DaoInterceptorWrapper">
        <arg>
          <component class="S2DaoInterceptor" />
        </arg>
      </component>
      -->
      <component name="inteceptor class="S2Dao_LimitOffsetS2DaoInterceptor"/>
    
    * add: PhingTask S2DaoTestGenTaskを追加しました。
        - 現在はPHPUnit2のテストコードをPHPUnit2のSkeletonから自動生成します。
        - /test と同様のテストコードを自動生成します。

2006-05-23 nowel(S2Dao.PHP5-1.1.0-RC4)

    * fix: コメントアノテーション時にN:1マッピングの取得がドキュメントと違っていたのを修正しました。
    * fix: コメントアノテーション時にNoPersistentPropertyが正しく取得されないのを修正しました。
    * add: コメントアノテーションTimestampProperty, VersionNoProperty アノテーションを追加しました。
        ex)
        /**
         * @TimestampProperty(aa)
         * @VersionNoProperty(bb)
         */
        class FooBean {
            private $aa;
            private $bb;
                :
                :
        }

2006-05-22 nowel(S2Dao.PHP5-1.1.0-RC4)

    * S2DaoTestCaseをS2Container_S2PHPUnit2TestCaseから継承するように変更しました。

2006-05-21 yonekawa, nowel(S2Dao.PHP5-1.1.0-RC4)

    * S2Pagerを追加しました
        - add: /src/s2dao.php5/org/seasar/dao/pager/S2Dao_PagerS2DaoInterceptorWrapper.class.php
        - add: /src/s2dao.php5/org/seasar/dao/pager/S2Dao_PagerResultSetWrapper.class.php
        - add: /src/s2dao.php5/org/seasar/dao/pager/S2Dao_PagerSupport.class.php
        - add: /src/s2dao.php5/org/seasar/dao/pager/S2Dao_PagerViewHelper.class.php
        - add: /src/s2dao.php5/org/seasar/dao/pager/S2Dao_PagerCondition.class.php
        - add: /src/s2dao.php5/org/seasar/dao/pager/S2Dao_DefaultPagerCondition.class.php
        - add: /src/s2dao.php5/dao-pager.dicon
    * add: example/s2dao_pagerを追加しました
    * add: S2Dao_SelectDynamicCommand::getResultSetFactory()を追加しました。

2006-05-19 nowel(S2Dao.PHP5-1.1.0-RC4)

    * fix: AnnotationReader の処理を最適化しました。
    * Licenses 表記を全てのファイルに適用しました。
    * remove: S2ActiveRecord のパッケージを削除しました。

2006-05-16 nowel(S2Dao.PHP5-1.1.0-RC3)

================ S2Dao.PHP5-1.1.0-RC3 更新履歴 ===================

    * fix: QUERYアノテーション時にWHERE句が正しく挿入されない不具合を修正しました。
    * fix: BEANに代入されるtimestampの値が常にIntegerになる不具合を修正しました。
    * fix: 不正な値がBindされるバグを修正しました。
    * fix: DTO使用時に不必要なパラメータが含まれないように修正しました。
    * fix: PHPtype <-> PDOtype のマッピングの一部の修正しました。
    * fix: Dto処理を修正しました。
    * fix: SQLコメントのバインド変数処理を修正しました。   
    * SQLパーサを一部最適化しました。
    * /examples/s2dao_java_orign/resource/orign*.sqlの内容が古かったので更新しました。
    * 自動生成されるSQLバインドのコメントを変更しました。
        - /*IF dto.prop != null*/ -> /*IF dto.prop !== null*/
    * S2DaoSkeletonTask を修正しました。
        - DaoImplを生成するように変更しました。
    * PROCEDURE アノテーション対応DBMSが増えました。
        - PostgreSQL
        - SQLite
          - 詳しくはサンプルをご覧になってください。(StoredProcedureTestDao.class.php -> SALES_TAX2)
          * SQLite の場合 StoredFunction/Procedureに対応していないため
            PHP Functionを代用します。
            ref - http://jp.php.net/manual/en/function.pdo-sqlitecreatefunction.php

2006-05-15 nowel(S2Dao.PHP5-1.1.0-RC3)

    * fix: PHPtype <-> PDOtype のマッピングの一部が間違えていたので修正しました。
    * fix: DTO使用時に不必要なパラメータが含まれないように修正しました。
    * SQLパーサを一部最適化しました。
    * /examples/s2dao_java_orign/resource/orign*.sqlの内容が古かったので更新しました。
    * 自動生成されるSQLバインドのコメントを変更しました。
        - /*IF dto.prop != null*/ -> /*IF dto.prop !== null*/

2006-05-12 nowel(S2Dao.PHP5-1.1.0-RC3)

    * fix: Dto処理を修正しました。
    * fix: SQLコメントのバインド変数処理を修正しました。

2006-05-08 nowel(S2Dao.PHP5-1.1.0-RC3)

    * S2DaoSkeletonTask を修正しました。
        - DaoImplを生成するように変更しました。

    * PROCEDURE アノテーション
        - 現在OUT、INOUTパラメータを必要とするStored Function、Stored Procedureには対応していません。
         IN パラメータのみバインドします。
    * PROCEDURE アノテーション対応DBMSが増えました。
        - PostgreSQL
        - SQLite
          - 詳しくはサンプルをご覧になってください。(StoredProcedureTestDao.class.php -> SALES_TAX2)
          * SQLite の場合 StoredFunction/Procedureに対応していないため
            PHP Functionを代用します。
            ref - http://jp.php.net/manual/en/function.pdo-sqlitecreatefunction.php

2006-05-03 nowel(S2Dao.PHP5-1.1.0-RC2)

================ S2Dao.PHP5-1.1.0-RC2 更新履歴 ===================

    * pear package に対応しました。
    * コメントアノテーションの記法をS2Dao-tiger風に変更しました。
    * E_STRICT レポートについて修正しました。
    * PROCEDURE アノテーションに対応しました。
        - 現在はMySQLのみStored Functionに対応しています。
    * PDOトランザクションの自動制御を提供しました。
    
2006-04-29 nowel(S2Dao.PHP5-1.1.0-RC2)

    * コメントアノテーションの記法をS2Dao-tigerとあわせました。
        - 詳細はドキュメントをご覧になってください。
    * E_STRICT レポートについて修正しました。
    * PROCEDURE に対応しました。
        - 現在はMySQLのみStored Functionに対応しています。

2006-04-14 nowel(S2Dao.PHP5-1.1.0-RC2)

    * pdoのトランザクション機構提供開始(alpha)
        - 詳細はドキュメントをご覧になってください。
        - examples/s2dao_selftransaction にサンプルがあるのでご覧になってください。
        - add: src/s2dao.php5/org/seasar/extension/tx/S2Dao_AbstractTxInterceptor.class.php
        - add: src/s2dao.php5/org/seasar/extension/tx/S2Dao_RequiredInterceptor.class.php
        - add: src/s2dao.php5/org/seasar/extension/tx/S2Dao_RequiresNewInterceptor.class.php
        - add: src/s2dao.php5/org/seasar/extension/tx/S2Dao_MandatoryInterceptor.class.php
        - add: src/s2dao.php5/org/seasar/extension/tx/S2Dao_NotSupportedInterceptor.class.php
        - add: src/s2dao.php5/org/seasar/extension/tx/S2Dao_NeverInterceptor.class.php
        
    * modify: pdo.dicon
        <!--
        <component name="requiredTx" class="S2Dao_RequiredInterceptor" />
        <component name="requiresNewTx" class="S2Dao_RequiresNewInterceptor" />
        <component name="mandatoryTx" class="S2Dao_MandatoryInterceptor" />
        <component name="notSupportedTx" class="S2Dao_NotSupportedInterceptor" />
        -->

2006-04-10 nowel(S2Dao.PHP5-1.1.0-RC1)

================ S2Dao.PHP5-1.1.0-RC1 更新履歴 ===================
    * fix: insert/update/delete 時に versionNo/loc の値が正しく設定されないバグを修正しました。
    * fix: N:1(RELNO)時のRelation Bean値が正しく設定されないバグを修正しました。
    * fix: いくつかの Exception 及びメッセージを修正しました。
    * fix: s2dao.inc.php にて S2ContainerMessageUtil の指定が間違っていたのを修正しました。
    * fix: SQLコメントが正しく利用できないバグを修正しました。
    * add: Dao, Entity の自動生成タスクを作成しました。(alpha)
    * add:コメントアノテーションに対応しました。
        - 詳細はドキュメントをご覧になってください。
        - examples/s2dao_comment にサンプルがあるのでご覧になってください。
        * コメントアノテーション使用時には戻り値の指定を@return にて指定します。
            ex)
            - Listで戻り値を取得する場合
                /**
                 * @return list
                 */
                public function getEmployees()
            - array()で戻り値を取得する場合
                /**
                 * @return array
                 */
                public function getEmployees()
            - Object(Entity)で戻り値を取得する場合
                public function getEmployees()
    * メソッドの戻り値指定の List_ 及び Array_ の変更
        - 'List_getEmployee()' to 'getEmployeeList()'
            - 'EmployeeDao_List_getEmployees.sql' to 'EmployeeDao_getEmployeesList.sql'
        - 'Array_getDepartment()' to 'getDepartmentArray()'
            - 'Department_Array_getDepartment.sql' to 'Department_getDepartmentArray.sql'
        new)
            getEmployeeByList(args)
            getEmployeesArray(args)
        old)
            List_getEmployeeBy(args)
                Array_getEmployees(args)
    * 単一カラムの戻り値を変更
        'SELECT count(*)' などのように一つだけのカラムが戻り値になった場合は
          その結果セットを戻します。 

2006-04-08 nowel(S2Dao.PHP5-1.1.0-RC1)

    * fix: insert/update/delete 時に versionNo/loc の値が正しく設定されないバグを修正しました。
    * fix: N:1(RELNO)時のRelation Bean値が正しく設定されないバグを修正しました。

2006-04-05 nowel(S2Dao.PHP5-1.1.0-RC1)

    * fix: いくつかの Exception 及びメッセージを修正しました。

2006-04-04 nowel(S2Dao.PHP5-1.1.0-RC1)

    * コメントアノテーションに対応しました。
        - 詳細はドキュメントを御覧になってください。
        - examples/s2dao_comment にサンプルがあるのでご覧になってください。
    * コメントアノテーション使用時には戻り値の指定を自由に変更可能です。
        ex)
        - Listで戻り値を取得する場合
            /**
             * @return list
             */
            public function getEmployees()
        - array()で戻り値を取得する場合
            /**
             * @return array
             */
            public function getEmployees()
        - Object(Entity)で戻り値を取得する場合
            public function getEmployees()

        ※ list, array は大文字小文字を判定せず、@return 中に対象の文字列が
        含まれている場合に利用可能です。
        ※戻り値の指定が無い場合はobject(entity)を返します。

2006-04-02 nowel(S2Dao.PHP5-1.1.0-RC1)

    * 一部のパッケージを移動しました。

2006-03-23 nowel(S2Dao.PHP5-1.1.0-RC1)

    * S2Dao.PHP5-1.1.0-RC1 の開発を開始
        S2Container.PHP5-1.1.0RC1 での開発
    * メソッドの戻り値指定の List_ 及び Array_ の変更
        - 'List_getEmployee()' to 'getEmployeeList()'
            - 'EmployeeDao_List_getEmployees.sql' to 'EmployeeDao_getEmployeesList.sql'
        - 'Array_getDepartment()' to 'getDepartmentArray()'
            - 'Department_Array_getDepartment.sql' to 'Department_getDepartmentArray.sql'
        
        ex)
            getEmployeeByList(args)
            getEmployeesArray(args)
        not)
            List_getEmployeeBy(args)
                Array_getEmployees(args)
                
    * 単一カラムの戻り値を変更
        'SELECT count(*)' などのように一つだけのカラムが戻り値になった場合は
          その結果セットを戻します。 

2006-03-22 nowel

    * s2dao.inc.php にて S2ContainerMessageUtil の指定が間違っていたのを修正しました。

2006-03-21 nowel

    * refix: SQLコメントが正しく利用できないバグを修正しました。
    * add: Dao, Entity の自動生成タスクを作成しました。(alpha)

2006-03-18 nowel

================ S2Dao.PHP5-1.0.0-beta4 更新履歴 ===================
    * S2ActiveRecordを提供開始しました。(alpha)
    * 埋め込み変数コメントでのプロパティ参照に対応しました。
    * /src/examples を /examples に移動しました。
    * fix: IDアノテーション使用時のバグを修正しました。
    * fix: SQLコメントが正しく利用できないバグを修正しました。

2006-03-17 nowel

    * 埋め込み変数コメントに対応しました。SQLコメント内で以下のコメントが利用可能です。
        - /*Entity名.プロパティ名*/
        - /*引数名.プロパティ名*/
    * SQLコメントが正しく動作しないバグを修正しました。

2006-03-05 nowel

    * S2ActiveRecord を作成しました。
    * /src/examples を /examples に移動しました。
    
2006-02-20 nowel

    * ID アノテーション使用時に identity の指定ができなくなっているのを修正しました。

2006-01-31 nowel 

================ S2Dao.PHP5-1.0.0-beta3 更新履歴 ===================
    * DBMS の対応が増えました。現在対応しているDBMSは以下です。
        - MySql
        - PostgreSQL
        - SQLite
        - Oracle
    * ID アノテーションに対応しました。
    * COLUMN アノテーションに対応しました。
    * RELNO アノテーションに対応しました。
    * RELKEYS アノテーションに対応しました。
    * ARGS アノテーションを使用しなくても、メソッドの引数名を取得できるようになりました。
    * S2Dao(Java) の version 1.0.29 とほぼ同等になりました。
    * SQL 文にて SELECT COUNT(*) FROM EMP などのように、単一の数値を返す場合の処理を変更しました。
      SELECT のすぐ後ろに COUNT, MAX, MIN が来た場合は結果セットをそのまま返却します。
    * fix: Array_, find メソッド使用時の不具合を修正しました。
    * fix: PEAR::DB の情報が残っており正しく動作しない不具合を修正しました。
    * fix: 型の判定を修正しました。
    * fix: findObject 使用時に stdClass が戻されるのを修正しました。

2006-01-22 nowel

    * src/phing/task/* 及び build.xml は S2Container.PHP5 のプロジェクトに移行しました。
        phar パッケージ及び pear パッケージ作成の際は S2Container.PHP5 から行ってください。
    * src/example/s2dao_orign に S2Dao(java) の Exapme を作成しました。

2006-01-15 nowel

    * N:1 マッピングに対応しました。
        RELNO アノテーション, RELKEYS アノテーションに対応しました。
    * ARGS アノテーションが指定されない場合に、メソッドの引数名を使用するように変更しました。
        - JAVA では メソッドの引数名に対してリフレクションできませんでしたが、PHP5.1.x では
        　可能であるため、対応させました。
          現段階では、メソッドの初期値に null が設定されている場合には設定しません。

        ex)
            method_SQL = "select * from hoge where foo = /*id*/ and bar = /*bar*/
            public function method($id, $bar);

2006-01-13 nowel

    * S2Dao_PropertyTypeImpl を修正しました。
    * S2Dao_AbstractAutoHandler を修正しました。(Oracle対応)
    * Array_***, find*** メソッド利用時の結果セットを正しく返すように修正しました。
    * Oracle 使用時のバグを修正しました。
        - Oracle での Null の扱いについては pdo.dicon の optionで設定してください

2006-01-12 nowel

    * Oracle 利用可能になりました。
    * PHP ファイル内の文字列を "(ダブルクォート) から '(シングルクォート)に変更しました。

2006-01-11 nowel

    * dbms.properties を変更しました。

2006-01-07 nowel

    * AnnotationReaderFactory を追加しました。
        Java 版 S2Dao 1.0.29 と同じ物です。 
        added
        - impl/S2Dao_FieldAnnotationReaderFactory
        - impl/S2Dao_FieldDaoAnnotationReader
        - impl/S2Dao_FieldBeanAnnotationReader
        - S2Dao_BeanAnnotationReader
        - S2Dao_AnnotationReaderFactory

2005-12-24 nowel

    * example/shelf_*.php を修正しました。

2005-12-20 nowel

    * IDアノテーション COLUMN アノテーションに対応しました。
    * DaoMetaDataImpl のメソッド呼び出し順序の修正
    * DaoMetaDataImpl::isBeanClassAssignable()の処理変更

2005-12-14 nowel

    * PHP Archive Task を修正しました。
        - FilterChainを用いて比較的小さなpharファイルを作成することができます。
        - Windowsでの動作をサポートしました。

2005-12-10 nowel

    * PHP Archive Task を修正しました。
        付属のbuild.xmlを参考にしてください。

2005-12-09 nowel

    * Phing PHP Archive Task
        PHP Archive(phar) 化を行う Phing Task を作成しました。
    * S2Dao.PHP5-1.0.0-beta3 開発開始

2005-12-07 nowel

================ S2Dao.PHP5-1.0.0-beta2 更新履歴 ===================

    * PDO に対応しました。
        S2Dao.PHP5-1.0.0-beta2 が対応している DBMS は以下の通りです。
        - MySQL(mysql)
        - SQLite(sqlite)
        - PostgreSQL(pgsql)
    * _QUERY アノテーションに対応しました。
    * _SQL アノテーションに対応しました。
    * S2Dao_AbstractDaoを用いてEntityManagerに対応しました。
    * SQL コメント ELSE に対応しました。
    * S2DaoClassLoader を修正しました。
    * SQL コメントに関する処理を修正しました。
    * プリペアステートメントに関する処理を修正しました。
    * ResultSetHandler に関する処理を修正しました。
    * 各クラス及びファイルに S2Dao_ のプレフィックスを付けました。
    * __autoload()関数内に S2DaoClassLoader を含めなくてもよいように変更しました。
    * Array_ メソッドの戻り値を ArrayObject から array() に変更しました。
    * SSRMessages.propertiesを削除しメッセージファイルは DaoMessages.properties に変更しました。
    * 利用していないいくつかのファイルを削除しました。

2005-12-06 nowel

    * _SQL アノテーションに対応しました。
    * src/example/example.dicon.xml を dao.dicon と pdo.dicon に分割しました。
        dao.dicon では S2Dao.PHP5 で必要なものが記述されています。
        pdo.dicon では データベース接続に必要な情報が記述されています。
        src/s2dao.php5/dao.dicon で %PDO_DICON% で pdo.dicon ファイルをincludeしているので
        定数 PDO_DICON を設定する必要があります。

        ex) define("PDO_DICON", dirname(__FILE__) . "/pdo.dicon");

2005-12-05 nowel

    * fix: dbms/S2Dao_pgsql.class.php
            プライマリーキー取得のSQLを変更しました。
    * S2Dao_Dbms のインタフェースに以下を設定しました。
        - function getTableSql();
            テーブル一覧を取得するSQLをDBMS毎に発行します。
        - function getTableInfoSql();
            テーブル情報(カラム名など)を取得するSQLをDBMS毎に発行します。
        - function getPrimaryKeySql();
            プライマリーキーを取得するSQLをDBMS毎に発行します。

2005-12-02 nowel

    * fix: S2Dao_DaoMetaDataImpl
    * PDO 上での SQLite, PostgreSQL の動作を確認しました。
    * PostgreSQL の プレフィックスを postgre から pgsql へ変更しました。
    * S2Dao_PDODataSource を S2Container.PHP5 へ移動し、今後の管理はS2Container.PHP5で行うことになりました。
    * いくつかのパッケージを削除しました。

2005-11-29 nowel

    * beta2リリースを12月上旬に行います。
        beta2ではPHP5.1.x以降、PDO利用でのみサポートをします。
    * src/s2dao/org/seasar/impl 内のファイルを修正しました。
    * src/examples の example.dicon.xml を更新しました。
        <component class="S2Dao_BasicResultSetFactory" />
        <component class="S2Dao_BasicStatementFactory" />
        を定義することで標準でS2Dao_BasicResultSetFactoryとS2Dao_BasicStatementFactoryを利用します。
    * statementFactoryとresultSetFactoryのtypehintに以下を記述しました。
        S2Dao_StatementFactory $statementFactory = null
        S2Dao_ResultSetFactory $resultSetFactory = null
    * src/examples 以下に S2Dao_AbstractDao を利用するサンプルを配置しました。
      src/examples/impl/CdDaoImpl.class.php を参考にしてください。
    * 以下の ResultSetHandler を修正しました。
        - S2Dao_ObjectResultSetHandler
        - S2Dao_BeanMetaDataResultSetHandler

2005-11-28 nowel

    * src/example の Dao, Entityをディレクトリに移動しました。
    * src/s2dao.php5/org/seasar/framework/util の中身を
      src/s2dao.php5/org/seasar/dao/util に移動しました。
    * S2Dao_Dbms と S2Dao_DatabaseMetaDataUtil
        - S2Dao_DatabaseMetaDataUtil::getTables()
        - S2Dao_DatabaseMetaDataUtil::getTableInfo()
        にて org.seasar.dao.dbms.S2Dao_*** の各DBMSごとに SQL を発行するように変更しました。
        - getTableSql()
        - getTableInfoSql()
        上記の変更により、対応しているDBMSにメソッドを追加しました。

2005-11-27 nowel

    * fix: SQL Comment に関する処理を修正しました。
    * fix: Improved Performance; Premared Statement.
            プリペアステートメントに関する処理を修正しました。
    * PDO update PDOの処理を更新しました。
        - support サポートされているDBMSは以下です。
            - mysql
            - sqlite
            - pgsql
        - not yet まだサポートしていないDBMSは以下です。
            - oracle
            - odbc(db2)
            - and other dbms

2005-11-23 nowel

    * SQLコメント ELSE に対応しました。
        SqlParserのnodeStack(Nodeに関する処理)を修正しました。
    * _QUERY アノテーション対応しました。
    * Dao => Array_*** methods
        ArrayObject 形式から 通常の array() に変更しました。
        List_*** メソッドでは ArrayObject を継承しているため、似たようなオブジェクトになって
        いる為変更しました。

2005-11-1x nowel

    * beta 2 に移行します。
        - Namespace 対策及び S2Conatiner beta3 に合わせるため S2Dao_ プレフィックスを付加しました。
        - S2DaoLoader に export() を追加。
            S2ContainerClassLoader に import する方法に変更しました。
        - S2Dao.PHP5 で用意していた SSRMessages.properties は
          S2Container.PHP5 のSSRMessages.properties と DaoMessages.propertis をマージしていましたが
          S2Container.PHP5 の MessageUtil に メッセージファイル(DaoMessages.properties)を読み込ませる
          方式に変更しました。この変更で、SSRMessages.properties をしました。
        - Apache Software Lisence 2.0 へ変更しました。
        - s2dao.inc.php を上記の変更に伴い変更しました。
        - src/example の一部を変更しました。
        - PDO に対応しました。

2005-11-09 nowel

    * beta 1
        - 初リリース
